import{j as e,r as h}from"./client-CFcKg02j.js";import{u as d,b as j}from"./client-D3RtENOo.js";import{F as b}from"./client-CEm0v9VI.js";import{s as x,f as y}from"./client-DxkPrQQx.js";import{s as m,L as f}from"./client-BhbYuF3b.js";import{P as N}from"./client-VVoV6ae_.js";import{u}from"./client-ye_Tc8aY.js";import"./client-BX9QSSmL.js";import"./client-DW_MHI2K.js";import"./client-Bg0f9_HF.js";import"./client-DcEZrv79.js";import"./client-vn6Di64w.js";import"./client-5a4Y-fw1.js";const z=({data:t,onBegin:a=()=>{},onBeginQuiz:n=()=>{}})=>e.jsxs("div",{className:"card w-96 shadow-xl bg-base-100",children:[e.jsx("figure",{className:"px-10 pt-10",children:e.jsx(b,{className:"text-9xl"})}),e.jsxs("div",{className:"card-body items-center text-center",children:[e.jsx("h2",{className:"card-title capitalize",children:t.name}),e.jsxs("p",{children:["Savollar soni: ",t.questions_count," ta"]}),e.jsxs("div",{className:"card-actions",children:[e.jsx("button",{onClick:n,className:"btn btn-primary",children:"Ochiq testlar"}),e.jsx("button",{onClick:a,className:"btn btn-primary",children:"Yopiq testlar"})]})]})]}),p=()=>document.getElementById("login_modal").click(),q=({subjectId:t})=>{const{register:a,handleSubmit:n,getValues:s,formState:{errors:l}}=u(),{isPending:i,mutate:o}=d({mutationKey:["start examp",t,s("firstname"),s("lastname")],mutationFn:()=>x({firstname:s("firstname"),lastname:s("lastname"),subject_id:t}).then(r=>{m("user",r.user),m("data",{...r,scores:[]}),window.location.replace("/answer2question")})}),c=()=>{o()};return e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"checkbox",id:"login_modal",className:"modal-toggle"}),e.jsx("div",{id:"login_modal",className:"modal",role:"dialog",children:e.jsxs("div",{className:"modal-box",children:[e.jsx("div",{className:"bg-primary text-primary-content",children:e.jsx("h3",{className:"text-xl font-semibold p-3 text-center",children:"O'zingizni tanishtiring"})}),e.jsxs("form",{onSubmit:n(c),className:"p-3",children:[e.jsxs("div",{className:"flex gap-3 flex-col",children:[e.jsx("h4",{className:"text-lg",children:"Ismingiz va familiyangiz"}),e.jsx("input",{...a("firstname",{required:!0}),placeholder:"Ismingiz",type:"text",className:"input input-primary w-full"}),l.firstname&&e.jsx("span",{className:"text-sm text-error",children:"Ismingizni yozing"}),e.jsx("input",{...a("lastname",{required:!0}),placeholder:"Familiyangiz",type:"text",className:"input input-primary w-full"}),l.lastname&&e.jsx("span",{className:"text-sm text-error",children:"Familyangizni yozing"})]}),e.jsxs("div",{className:"flex gap-3 mt-3",children:[e.jsx("button",{disabled:i,type:"submit",className:"btn btn-primary",children:"Boshlash"}),e.jsx("button",{disabled:i,type:"button",className:"btn btn-warning",onClick:p,children:"Bekor qilish"})]})]})]})})]})},g=()=>document.getElementById("login_modal_quiz").click(),v=({subjectId:t})=>{const{register:a,handleSubmit:n,getValues:s,formState:{errors:l}}=u(),{isPending:i,mutate:o}=d({mutationKey:["start examp",t,s("firstname"),s("lastname")],mutationFn:()=>x({firstname:s("firstname"),lastname:s("lastname"),type_quiz:"open",subject_id:t}).then(r=>{m("user",r.user),m("data",{...r,scores:[]}),window.location.replace("/answer2quizquestion")})}),c=()=>{o()};return e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"checkbox",id:"login_modal_quiz",className:"modal-toggle"}),e.jsx("div",{id:"login_modal_quiz",className:"modal",role:"dialog",children:e.jsxs("div",{className:"modal-box",children:[e.jsx("div",{className:"bg-primary text-primary-content",children:e.jsx("h3",{className:"text-xl font-semibold p-3 text-center",children:"O'zingizni tanishtiring"})}),e.jsxs("form",{onSubmit:n(c),className:"p-3",children:[e.jsxs("div",{className:"flex gap-3 flex-col",children:[e.jsx("h4",{className:"text-lg",children:"Ismingiz va familiyangiz"}),e.jsx("input",{...a("firstname",{required:!0}),placeholder:"Ismingiz",type:"text",className:"input input-primary w-full"}),l.firstname&&e.jsx("span",{className:"text-sm text-error",children:"Ismingizni yozing"}),e.jsx("input",{...a("lastname",{required:!0}),placeholder:"Familiyangiz",type:"text",className:"input input-primary w-full"}),l.lastname&&e.jsx("span",{className:"text-sm text-error",children:"Familyangizni yozing"})]}),e.jsxs("div",{className:"flex gap-3 mt-3",children:[e.jsx("button",{disabled:i,type:"submit",className:"btn btn-primary",children:"Boshlash"}),e.jsx("button",{disabled:i,type:"button",className:"btn btn-warning",onClick:g,children:"Bekor qilish"})]})]})]})})]})},K=()=>{const[t,a]=h.useState(void 0),{data:n=[],isLoading:s,isFetching:l}=j({queryKey:["subjects"],queryFn:y});return e.jsxs(e.Fragment,{children:[e.jsx(N,{isFetching:l,isLoading:s,title:"Sohalar"}),e.jsx(q,{subjectId:t}),e.jsx(v,{subjectId:t}),e.jsxs("div",{className:"lg:p-10 sm:p-3 md:p-5 flex flex-wrap gap-2 items-center",children:[s&&e.jsx(f,{title:"Sohalar yuklanmoqda..."}),n==null?void 0:n.map(i=>e.jsx(z,{onBegin:()=>{p(),a(i.id)},onBeginQuiz:()=>{g(),a(i.id)},data:i},i.id))]})]})};export{K as default};
